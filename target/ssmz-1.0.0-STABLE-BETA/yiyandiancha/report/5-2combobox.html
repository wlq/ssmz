<!DOCTYPE html>  
    <html>  
    <head>  
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
        <title>Combo - jQuery EasyUI Demo</title>  
        <link rel="stylesheet" type="text/css" href="../themes/default/easyui.css">  
        <link rel="stylesheet" type="text/css" href="../themes/icon.css">  
         <link rel="stylesheet" type="text/css" href="demo.css">  
         <script type="text/javascript" src="../jquery-1.4.4.min.js"></script>  
         <script type="text/javascript" src="../jquery.easyui.min.js"></script>  
    <script>   
		function ShowTable(district,question){
	       if(question == 1||question == 2||question == 4||question == 6||question == 7||question == 11||question == 12||question == 13||question == 14){
				$('#test').datagrid({
				title:'统计结果',
				iconCls:'icon-save',
				width:750,
				height:320,
				nowrap: false,
				striped: true,
				collapsible:true,
				url:'data/5-2-'+question+'_'+district+'.json',
				columns:[[
			        {field:'col1',title:'因素',width:230,align:'center'},
					{field:'col2',title:'',width:230,align:'center'},
					{field:'col3',title:'n',width:115,align:'center'},
					{field:'col4',title:'%',width:115,align:'center'}
				]]
			});
var str="<img src =\"images\\5-2-";
			
		str = str + question;
		str = str + "_";
		str = str + district;
		str = str + ".jpg \" />"
        
       picture.innerHTML=str;
			}
			if(question == 3||question == 8||question ==9||question == 10){
				$('#test').datagrid({
				title:'统计结果',
				iconCls:'icon-save',
				width:750,
				height:74,
				nowrap: false,
				striped: true,
				collapsible:true,
				url:'data/5-2-'+question+'_'+district+'.json',
				columns:[[
			        {field:'col1',title:'因素',width:240,align:'center'},
					{field:'col2',title:'均数',width:230,align:'center'},
					{field:'col3',title:'标准差',width:230,align:'center'}
				]]
			});
			}
			if(question == 5){//根据选择的问题设置表头
		$('#test').datagrid({
				title:'统计结果',
				iconCls:'icon-save',
				width:710,
				height:400,
				nowrap: false,
				striped: true,
				collapsible:true,
				url:'data/5-2-5_'+district+'.json',
				
				
				columns:[[
			        {field:'col1',title:'洗手情况',width:230,align:'center'},
					{field:'col2',title:'',width:230,align:'center'},
					{field:'col3',title:'n',width:115,align:'center'},
					{field:'col4',title:'%',width:115,align:'center'}
				]]
			});
			}
		}
		
		$(function loadData(){
			$('#district').combobox({
				url:'combobox_district_data.json',
				valueField:'id',
				textField:'text'
			});
			$('#question').combobox({
				url:'combobox_question4-2_data.json',
				valueField:'id',
				textField:'text'
			});
		});
		
		function getValue(){
			var district = $('#district').combobox('getValue');
			var question = $('#question').combobox('getValue');
			//alert(district+" "+question);
			//alert(district);
			
			//$('#result').load("1-1comboboxTest.html?district="+district);
			//window.open("1-1comboboxTest.html?district="+district);
			ShowTable(district,question);
		}
		
	
    </script>  
</head>  
<body> 

<div region="north" border="true" style="height:80px;padding-left:150px">

  <div style="float:left;padding:20px;">
	<span>地区:  </span>
	 <select id="district" class="easyui-combobox" name="state" style="width:200px; height:auto;" required="true" editable="false">
	
		</select> 

 
	</div>
	<div style="float:left;padding:20px;">
	<span>问题： </span>
	 <select id="question" class="easyui-combobox" name="state" style="width:200px; height:auto;" required="true" editable="false">
	
		</select> 
	</div>
	<div style="float:left;padding:20px;">
	<a id="select" href="#" onclick="getValue()" class="easyui-linkbutton" style="width:70px;">查  询</a> 
	</div>
	</div>

	<div id="result" region="center" style="padding-left:150px">
	
	    <table id="test"></table>
		<div id="p" class="easyui-panel" style="border:#FFF;">
			<table id="total"></table>
		</div>
<div id="picture" class="easyui-panel" style="border:#FFF;padding-left:130px;padding-top:10px;"></div>
	</div>
</body>  
</html>  